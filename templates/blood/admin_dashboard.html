{% extends 'blood/adminbase.html' %}
{% block content %}
<div class="container-fluid">
    <!-- Blood Groups Section -->
    <div class="row">
        <div class="col-12">
            <h2 class="text-primary mb-4">Blood Stock Overview</h2>
        </div>
    </div>

    <!-- Positive Blood Groups -->
    <div class="row">
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card {% if A1.unit > 0 %}bg-white{% else %}bg-light{% endif %} h-100">
                <div class="card-body text-center">
                    <div class="blood-icon">
                        <h3>A+ <i class="fas fa-tint"></i></h3>
                    </div>
                    <div class="mt-3">
                        <h4 class="font-weight-bold">{{A1.unit}} Units</h4>
                        {% if A1.unit > 0 %}
                            <p class="text-success mb-0">Available</p>
                        {% else %}
                            <p class="text-danger mb-0">Out of Stock</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card {% if B1.unit > 0 %}bg-white{% else %}bg-light{% endif %} h-100">
                <div class="card-body text-center">
                    <div class="blood-icon">
                        <h3>B+ <i class="fas fa-tint"></i></h3>
                    </div>
                    <div class="mt-3">
                        <h4 class="font-weight-bold">{{B1.unit}} Units</h4>
                        {% if B1.unit > 0 %}
                            <p class="text-success mb-0">Available</p>
                        {% else %}
                            <p class="text-danger mb-0">Out of Stock</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card {% if O1.unit > 0 %}bg-white{% else %}bg-light{% endif %} h-100">
                <div class="card-body text-center">
                    <div class="blood-icon">
                        <h3>O+ <i class="fas fa-tint"></i></h3>
                    </div>
                    <div class="mt-3">
                        <h4 class="font-weight-bold">{{O1.unit}} Units</h4>
                        {% if O1.unit > 0 %}
                            <p class="text-success mb-0">Available</p>
                        {% else %}
                            <p class="text-danger mb-0">Out of Stock</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card {% if AB1.unit > 0 %}bg-white{% else %}bg-light{% endif %} h-100">
                <div class="card-body text-center">
                    <div class="blood-icon">
                        <h3>AB+ <i class="fas fa-tint"></i></h3>
                    </div>
                    <div class="mt-3">
                        <h4 class="font-weight-bold">{{AB1.unit}} Units</h4>
                        {% if AB1.unit > 0 %}
                            <p class="text-success mb-0">Available</p>
                        {% else %}
                            <p class="text-danger mb-0">Out of Stock</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Negative Blood Groups -->
    <div class="row">
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card {% if A2.unit > 0 %}bg-white{% else %}bg-light{% endif %} h-100">
                <div class="card-body text-center">
                    <div class="blood-icon">
                        <h3>A- <i class="fas fa-tint"></i></h3>
                    </div>
                    <div class="mt-3">
                        <h4 class="font-weight-bold">{{A2.unit}} Units</h4>
                        {% if A2.unit > 0 %}
                            <p class="text-success mb-0">Available</p>
                        {% else %}
                            <p class="text-danger mb-0">Out of Stock</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card {% if B2.unit > 0 %}bg-white{% else %}bg-light{% endif %} h-100">
                <div class="card-body text-center">
                    <div class="blood-icon">
                        <h3>B- <i class="fas fa-tint"></i></h3>
                    </div>
                    <div class="mt-3">
                        <h4 class="font-weight-bold">{{B2.unit}} Units</h4>
                        {% if B2.unit > 0 %}
                            <p class="text-success mb-0">Available</p>
                        {% else %}
                            <p class="text-danger mb-0">Out of Stock</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card {% if O2.unit > 0 %}bg-white{% else %}bg-light{% endif %} h-100">
                <div class="card-body text-center">
                    <div class="blood-icon">
                        <h3>O- <i class="fas fa-tint"></i></h3>
                    </div>
                    <div class="mt-3">
                        <h4 class="font-weight-bold">{{O2.unit}} Units</h4>
                        {% if O2.unit > 0 %}
                            <p class="text-success mb-0">Available</p>
                        {% else %}
                            <p class="text-danger mb-0">Out of Stock</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card {% if AB2.unit > 0 %}bg-white{% else %}bg-light{% endif %} h-100">
                <div class="card-body text-center">
                    <div class="blood-icon">
                        <h3>AB- <i class="fas fa-tint"></i></h3>
                    </div>
                    <div class="mt-3">
                        <h4 class="font-weight-bold">{{AB2.unit}} Units</h4>
                        {% if AB2.unit > 0 %}
                            <p class="text-success mb-0">Available</p>
                        {% else %}
                            <p class="text-danger mb-0">Out of Stock</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Statistics Section -->
    <div class="row mt-4">
        <div class="col-12">
            <h2 class="text-primary mb-4">Quick Statistics</h2>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card bg-white h-100">
                <div class="card-body text-center">
                    <div class="stats-icon mb-3">
                        <i class="fas fa-users fa-3x text-primary"></i>
                    </div>
                    <h4 class="font-weight-bold">{{totaldonors}}</h4>
                    <p class="text-muted mb-0">Total Donors</p>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card bg-white h-100">
                <div class="card-body text-center">
                    <div class="stats-icon mb-3">
                        <i class="fas fa-spinner fa-3x text-warning"></i>
                    </div>
                    <h4 class="font-weight-bold">{{totalrequest}}</h4>
                    <p class="text-muted mb-0">Total Requests</p>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card bg-white h-100">
                <div class="card-body text-center">
                    <div class="stats-icon mb-3">
                        <i class="far fa-check-circle fa-3x text-success"></i>
                    </div>
                    <h4 class="font-weight-bold">{{totalapprovedrequest}}</h4>
                    <p class="text-muted mb-0">Approved Requests</p>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card bg-white h-100">
                <div class="card-body text-center">
                    <div class="stats-icon mb-3">
                        <i class="fas fa-tint fa-3x text-danger"></i>
                    </div>
                    <h4 class="font-weight-bold">{{totalbloodunit}}</h4>
                    <p class="text-muted mb-0">Total Blood Units (ml)</p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .card {
        transition: transform 0.2s ease-in-out;
        border: none;
        border-radius: 15px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .card:hover {
        transform: translateY(-5px);
    }

    .blood-icon {
        color: #dc3545;
    }

    .blood-icon .fa-tint {
        margin-left: 5px;
    }

    .stats-icon {
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .text-primary {
        color: #086fd6 !important;
    }

    @media (max-width: 767.98px) {
        .container-fluid {
            padding: 1rem;
        }

        h2 {
            font-size: 1.5rem;
        }

        .blood-icon h3 {
            font-size: 1.25rem;
        }

        .card-body {
            padding: 1rem;
        }

        .stats-icon {
            height: 45px;
        }

        .stats-icon i {
            font-size: 2em !important;
        }
    }
</style>
{% endblock content %}
